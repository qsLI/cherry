<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>摩尔斯电码</title>
    <meta name="keywords" content="摩尔斯电码" />
    <meta name="description" content="JSON编辑器在线是一个在线查看JSON的工具。用于查看，编辑，和格式JSON。它显示你的数据并排在一个透明的，可编辑的控件和代码编辑器。"
    />
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Kevin">
    <link rel="shortcut icon" href="/favicon.ico">
    <script src="//cdn.bootcss.com/jquery/1.9.1/jquery.min.js"></script>
    <link href="//cdn.bootcss.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" />
    <script src="//cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="/css/core.css">
    <script src="/js/core.js"></script>
    <script src="/Js/jstool.js"></script>
    <script src="/Js/lib/zeroclipboard/dist/ZeroClipboard.min.js"></script>
    <script src="/encrypt/js/md5.js"></script>
</head>

<body>
    <div class="aw-container-wrap">
        <div class="container">
            <div class="row">
                <div class="aw-content-wrap clearfix">
                    <div class=" aw-main-content" style="min-height: 700px; max-height: 2000px">
                        <div id="nav_menu">
                            <nav class="navbar navbar-default">
                                <div class="container-fluid">
                                    <ul class="nav navbar-nav" style="width: 100%;">
                                        <!--待开放功能-->
                                        <li>
                                            <a href="http://coder.toys">首页</a>
                                        </li>
                                        <li class="dropdown">
                                            <li>
                                                <a href="/cron/index.html">Cron生成器</a>
                                            </li>
                                            <li>
                                                <a href="/jsonlint/index.html">JSON校验</a>
                                            </li>
                                            <li>
                                                <a href="http://edit.coder.toys" title="JS压缩" target="_blank">JS压缩</a>
                                            </li>
                                            <!--暂开放功能 Start-->
                                            <li class="dropdown">
                                                <a href="#" class="dropdown-toggle" id="jsontools"
                                                    data-toggle="dropdown" role="button" aria-haspopup="true"
                                                    aria-expanded="false">JSON相关
                                                    <span class="caret"></span>
                                                </a>
                                                <ul class="dropdown-menu">
                                                    <li>
                                                        <a href="/">JSON在线编辑器</a>
                                                    </li>
                                                    <li>
                                                        <a href="/jsonview/index.html" target="_blank">JSON视图</a>
                                                    </li>
                                                    <li>
                                                        <a href="/JSONTOOL/jsonescape/index.html">JSON压缩转义</a>
                                                    </li>
                                                    <li>
                                                        <a href="/JSONTOOL/json2entity/index.html">JSON生成实体类</a>
                                                    </li>
                                                    <li>
                                                        <a href="/JSONTOOL/json2xml/index.html">XML-JSON互转</a>
                                                    </li>
                                                    <li>
                                                        <a href="/JSONTOOL/json2get/index.html" id="json2get">JSON和GET请求字符串互转</a>
                                                    </li>
                                                    <li>
                                                        <a href="/JSONTOOL/excel2json/index.html" id="excel2json">Excel转Json</a>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li class="dropdown">
                                                <a href="#" id="encTools" class="dropdown-toggle"
                                                    data-toggle="dropdown" role="button" aria-haspopup="true"
                                                    aria-expanded="false">编码/加密
                                                    <span class="caret"></span>
                                                </a>
                                                <ul class="dropdown-menu">
                                                    <li>
                                                        <a href="/encrypt/base64">Base64编码、解码</a>
                                                    </li>
                                                    <li>
                                                        <a href="/encrypt/md5">MD5加密</a>
                                                    </li>
                                                    <li>
                                                        <a href="/encrypt/sha">SHA加密</a>
                                                    </li>
                                                    <li>
                                                        <a href="/encrypt/escape">Escape编码</a>
                                                    </li>
                                                    <li>
                                                        <a href="/encrypt/urlencode" id="urlEncode">URL编码</a>
                                                    </li>
                                                    <li>
                                                        <a href="/encrypt/eval_package">Javascript Eval加密解密</a>
                                                    </li>
                                                    <li>
                                                        <a href="/encrypt/morse">摩斯密码加密解密</a>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li class="dropdown">
                                                <a href="#" class="dropdown-toggle" id="A1" data-toggle="dropdown"
                                                    role="button" aria-haspopup="true" aria-expanded="false">VIP视频
                                                    <span class="caret"></span>
                                                </a>
                                                <ul class="dropdown-menu">
                                                    <li>
                                                        <a href="/Video/default.html">通道一</a>
                                                    </li>
                                                    <li>
                                                        <a href="/Video/index.html" target="_blank">通道二</a>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li>
                                                <a href="http://old.coder.toys">返回旧版</a>
                                            </li>
                                            <!--End-->

                                            <li class="dropdown">
                                                <a href="/msg/msg.aspx" style="color: red;" target="_blank">留言</a>
                                            </li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                        <div style="clear: both"></div>
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <blockquote>
                                    <p>摩尔斯电码</p>
                                    <footer>摩尔斯电码（又译为摩斯密码，Morse code）是一种时通时断的信号代码，通过不同的排列顺序来表达不同的英文字母、数字和标点符号。</footer>
                                </blockquote>
                            </div>
                            <div class="panel-body">
                                <!--内容块开始-->
                                <div>
                                    <p style="text-align: center;"> </p>
                                    <div style="clear: both;"> </div>
                                </div>
                                <div>
                                    <div class="linedwrap">
                                        <textarea id="morse_input" name="json_input" onkeyup=""
                                            class="json_input" style="height: 200px; font-size: 11px !important; resize: both; width: 1078px; max-width: 1070px;"
                                            rows="32" spellcheck="false" placeholder="请输入要加密的字符串"></textarea> </div>
                                </div>
                                <div class="validateButtons clear">
                                    <div class="left" style="float: left">
                                        <div class="btn-group" role="group" aria-label="...">
                                            <button type="button" class="btn btn-primary" onclick="encode_morse_zh();">
                                            生成摩斯密码</button>
                                            <button type="button" class="btn btn-primary"
                                                onclick="decode_morse_zh();"> 解密摩斯密码</button>
                                            <button type="button" class="btn btn-danger"
                                                onclick="empty()"> 清空结果</button>
                                        </div>
                                        <div> </div>
                                    </div>
                                </div>
                                <div style="clear: both;"> </div>
                                <div class="top10" style="margin-top: 6px;">
                                    <div class="linedwrap">
                                        <textarea id="result_input" name="json_input" class="json_input"
                                            style="height: 200px; font-size: 11px !important; resize: both; width: 1078px; max-width: 1070px;"
                                            rows="32" placeholder="这里显示加密或解密后的字符串"></textarea> </div>
                                </div>
                                <input type="hidden" id="encode" value="1" />
                                <pre id="results" class="top10" style="display: none;"></pre>
                                <!--内容块结束-->
                            </div>
                            <div class="panel-footer"> </div>
                        </div>
                        <div class="panel-footer">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="/encrypt/js/morjs.min.js"></script>
    <script type="text/javascript">
        var decToHex = function (str) {
            var res = [];
            for (var i = 0; i < str.length; i++)
                res[i] = ("00" + str.charCodeAt(i).toString(16)).slice(-4);
            return "\\u" + res.join("\\u");
        }
        var hexToDec = function (str) {
            str = str.replace(/\\/g, "%");
            return unescape(str);
        }
        //console.log(decToHex("decToHex unicode 编码转换"));
        morjs.modes.custom = {
            charSpacer: '',
            letterSpacer: '/',
            longString: '-',
            shortString: '.',
            wordSpacer: '/'
        };
        var options = { mode: 'custom' };

        var ss = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_@";
        function v10toX(n, m) { m = String(m).replace(/ /gi, ""); if (m == "") return ""; if (parseInt(m) != m) { /*M("输入的摩斯码不符合要求！");*/return false; } var t = ""; var a = ss.substr(0, n); while (m != 0) { var b = m % n; t = a.charAt(b) + t; m = (m - b) / n } return t }
        function vXto10(n, m) { m = String(m).replace(/ /gi, ""); if (m == "") return ""; var a = ss.substr(0, n); if (eval("m.replace(/[" + a + "]/gi,'')") != "") { /*M("输入的摩斯码不符合要求！");*/return false; } var t = 0, c = 1; for (var x = m.length - 1; x > -1; x--) { t += c * (a.indexOf(m.charAt(x))); c *= n } return t }
        function vXtoY(n, m, y) { a = vXto10(n * 1, m); if (a == "") return ""; a = v10toX(y, a); return a }
        function M(str) { alert(str) }
        function convert(hex_input, id_input, hex_output, id_output) { var input_v = document.getElementById(id_input).value; var outputEle = document.getElementById(id_output); var hex_in_v = document.getElementById(hex_input).value; var hex_out_v = document.getElementById(hex_output).value; outputEle.value = vXtoY(hex_in_v, input_v, hex_out_v) }
        function convert_c(hex_input_v, id_input, hex_output_v, id_output) { var input_v = document.getElementById(id_input).value; var outputEle = document.getElementById(id_output); outputEle.value = vXtoY(hex_input_v, input_v, hex_output_v) }

        var morse_char_re = /[a-zA-Z0-9.:,;?=\'\/\!_\"()$&@]/;
        function encode_morse_zh() {
            var input = $('#morse_input').val();
            var matchs = input.match(/[\u0000-\uffff]/g);
            var out = "";
            if (matchs != null) {
                for (var i = 0; i < matchs.length; i++) {
                    var match = matchs[i];
                    if (match.trim() != '') {
                        if (morse_char_re.test(match)) {
                            //使用morse处理
                            out = out + morjs.encode(match, options) + morjs.modes.custom.letterSpacer;
                        }
                        else {
                            //中文morse处理
                            var unicode = decToHex(match);
                            if (unicode && unicode.substring(0, 2) == '\\u') {
                                unicode = unicode.substring(2, unicode.length);
                                unicode = vXtoY(16, unicode, 2);
                                //将1替换为长，0替换为短str = str.replace(/word/g,"Excel")
                                unicode = unicode.replace(/1/g, morjs.modes.custom.longString);
                                unicode = unicode.replace(/0/g, morjs.modes.custom.shortString);
                                out = out + unicode + morjs.modes.custom.letterSpacer;
                            }
                        }
                    }
                    else {
                        //不处理空字符串
                    }
                };
            }
            //去掉末尾的/
            if (out != null && out.length > 0 && out.substring(out.length - 1, out.length)) {
                out = out.substring(0, out.length - 1);
            }
            $('#result_input').val(out);
        }

        function decode_morse_zh() {
            var input = $('#morse_input').val();
            out = '';
            if (input != null) {
                input_array = input.split(morjs.modes.custom.letterSpacer);
                eval("var re_1 = /\\" + morjs.modes.custom.longString + "/g;");
                eval("var re_0 = /\\" + morjs.modes.custom.shortString + "/g;");
                for (var i = 0; i < input_array.length; i++) {
                    input = input_array[i];
                    if (input != null && input.length >= 1) {
                        if (input.length <= 5) {
                            //morse最长5位
                            out = out + morjs.decode(input, options) + ' ';
                        }
                        else {
                            //汉字
                            input = input.replace(re_1, '1');
                            input = input.replace(re_0, '0');
                            input = vXtoY(2, input, 16);
                            if (input === false || input === '') {
                                out = "输入的摩斯码不符合要求！";
                            }
                            else {
                                input = '\\u' + input;
                                input = hexToDec(input);
                                out = out + input + ' ';
                            }
                        }
                    }
                }
            }

            $('#result_input').val(out);
        }

        function encode_morse() {
            var morse = morjs.encode($('#morse_input').val(), options);
            $('#result_input').val(morse);
        }
        function decode_morse() {
            var text = morjs.decode($('#morse_input').val(), options);
            $('#result_input').val(text);
        }
        function empty() {
            document.getElementById('morse_input').value = '';
            document.getElementById('result_input').value = '';
            document.getElementById('morse_input').focus();
        }
    </script>
</body>

</html>